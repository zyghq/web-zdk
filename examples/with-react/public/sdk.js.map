{
  "version": 3,
  "sources": ["../sdk.ts"],
  "sourcesContent": ["interface ZygSDKInstance {\n  q: any[][];\n  booted: boolean;\n  widgetId: string; // PK\n  customerExternalId: string | null; // P1\n  customerEmail: string | null; // P2\n  customerPhone: string | null; // P3\n  customerHash: string | null;\n  processQueue: () => void;\n  executeCommand: (...args: any[]) => void;\n  push: (...args: any[]) => void;\n  on: (eventName: string, callback: EventListenerOrEventListenerObject) => void;\n  off: (\n    eventName: string,\n    callback: EventListenerOrEventListenerObject\n  ) => void;\n  init: (config: InitConfig) => void;\n  _eventTarget: EventTarget;\n  _triggerEvent: (eventName: string, data: any) => void;\n  onMessageHandler: (evt: MessageEvent) => void;\n}\n\ntype ZygSDKFunction = {\n  (...args: any[]): void;\n  q?: any[][];\n} & ZygSDKInstance;\n\ninterface Window {\n  ZygSDK: ZygSDKFunction;\n  ZygEnv: string;\n}\n\ntype KV = { [key: string]: string };\n\n// SDK init configuration\n// as passed to the SDK on initialization.\ninterface InitConfig {\n  widgetId: string;\n  customerExternalId?: string;\n  customerEmail?: string;\n  customerPhone?: string;\n  customerHash?: string;\n  traits?: KV;\n}\n\ntype BubblePosition = \"left\" | \"right\";\ntype Domains = string[] | null;\ntype ProfilePicture = string | null;\n\n// Widget configuration specific to the widget\n// as configured in the console.\ninterface WidgetConfig {\n  allowOnlyDomains: boolean;\n  domainsOnly: boolean;\n  domains: Domains;\n  bubblePosition: BubblePosition;\n  headerColor: string;\n  profilePicture: ProfilePicture;\n  iconColor: string;\n}\n\ninterface ZygSDKStorage {\n  widgetId: string;\n  anonId?: string;\n  customerExternalId?: string;\n  customerEmail?: string;\n  customerPhone?: string;\n  customerHash?: string;\n  traits?: KV;\n}\n\nconst ENV = window.ZygEnv || \"production\";\n\nconst logger = (() => {\n  if (ENV === \"development\") {\n    return console.log.bind(console);\n  } else {\n    return () => {}; // noop function\n  }\n})();\n\n/**\n * Sets a key-value pair in localStorage if available\n * @param key The key to set\n * @param value The value to set\n * @returns true if the operation was successful, false otherwise\n */\nfunction setLocalStorage(key: string, value: string): boolean {\n  try {\n    if (typeof window !== \"undefined\" && window.localStorage) {\n      localStorage.setItem(key, value);\n      return true;\n    }\n    return false;\n  } catch (error) {\n    console.error(\"Error setting localStorage:\", error);\n    return false;\n  }\n}\n\nfunction getLocalStorage(key: string): string {\n  try {\n    if (typeof window !== \"undefined\" && window.localStorage) {\n      return localStorage.getItem(key);\n    }\n    return null;\n  } catch (error) {\n    console.error(\"Error getting localStorage:\", error);\n    return null;\n  }\n}\n\n/**\n * Generates a UUID v4 (random)\n * @returns A string representing a UUID v4\n */\nfunction generateUUID(): string {\n  if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\n    // Use the built-in crypto.randomUUID() if available\n    return crypto.randomUUID();\n  }\n\n  // Fallback to manual UUID generation\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0;\n    const v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n(function () {\n  var config: WidgetConfig;\n  var isHidden = !0;\n  var pageWidth = window.innerWidth;\n\n  const baseUrl = \"http://localhost:3000\";\n\n  function fetchWidgetConfig(widgetId: string): Promise<WidgetConfig> {\n    logger(\"TODO:fetch widget config!\", widgetId);\n    const response = {\n      allowOnlyDomains: false,\n      domainsOnly: false,\n      domains: null,\n      bubblePosition: \"right\",\n      headerColor: \"#9370DB\",\n      profilePicture: null,\n      iconColor: \"#ffff\",\n    } as WidgetConfig;\n    return Promise.resolve(response);\n  }\n\n  function hideZW() {\n    var t = document.getElementById(\"zyg-frame\");\n    (t.style.opacity = \"0\"),\n      (t.style.transform = \"scale(0)\"),\n      (t.style.position = \"fixed\"),\n      (document.getElementById(\"zyg-button\").style.display = \"block\"),\n      (isHidden = !0);\n  }\n\n  function showZW() {\n    var t = document.getElementById(\"zyg-frame\");\n    ((t.style.opacity = \"1\"),\n    (t.style.transform = \"scale(1)\"),\n    (t.style.position = \"fixed\"),\n    pageWidth < 768) &&\n      (document.getElementById(\"zyg-button\").style.display = \"none\");\n    isHidden = !1;\n  }\n\n  function handleIfcReady(widgetId: string): boolean {\n    logger(\"on handleIfcReady...\");\n    // fetch data from localstorage\n    const data = getLocalStorage(widgetId);\n    const iframe: HTMLIFrameElement = document.getElementById(\n      \"zyg-iframe\"\n    ) as HTMLIFrameElement;\n    const message = {\n      type: \"customer\",\n      data: data,\n    };\n    iframe.contentWindow.postMessage(JSON.stringify(message), baseUrl);\n    return true;\n  }\n\n  function handleIfcAck(widgetId: string): boolean {\n    logger(\"handleIfcAck\", widgetId);\n    const iframe: HTMLIFrameElement = document.getElementById(\n      \"zyg-iframe\"\n    ) as HTMLIFrameElement;\n    const message = {\n      type: \"start\",\n    };\n    iframe.contentWindow.postMessage(JSON.stringify(message), baseUrl);\n    return true;\n  }\n\n  function handlePageWidthChange() {\n    pageWidth = window.innerWidth;\n    var t = document.getElementById(\"zyg-frame\"),\n      e =\n        pageWidth > 768\n          ? \"width: 448px; height: 72vh; max-height: 720px;\"\n          : \"width: 100%; height: 100%; max-height: 100%; min-height: 100%; left: 0px; right: 0px; bottom: 0px; top: 0px;\",\n      i =\n        \"right\" === config.bubblePosition\n          ? \"right: 16px; left: unset; transform-origin: right bottom;\"\n          : \"left: 16px; right: unset; transform-origin: left bottom;\",\n      o = isHidden\n        ? \"opacity: 0 !important; transform: scale(0) !important;\"\n        : \"opacity: 1 !important; transform: scale(1) !important;\";\n    t.style.cssText =\n      \"box-shadow: rgba(150, 150, 150, 0.2) 0px 10px 30px 0px, rgba(150, 150, 150, 0.2) 0px 0px 0px 1px; overflow: hidden !important; border: none !important; display: block !important; z-index: 2147483645 !important; border-radius: 0.75rem; bottom: 96px; transition: scale 200ms ease-out 0ms, opacity 200ms ease-out 0ms; position: fixed !important;\" +\n      i +\n      e +\n      o;\n  }\n\n  function createZygWidget(config: WidgetConfig) {\n    if (config.domainsOnly && config.domains) {\n      const domains = config.domains;\n      const d = window.location.hostname;\n      if (!domains.includes(d)) {\n        console.log(\"domain not allowed...\");\n        return;\n      }\n    }\n\n    // create the iframe parent div container\n    var frameContainer = document.createElement(\"div\");\n    frameContainer.setAttribute(\"id\", \"zyg-frame\");\n    // add styling\n    var fcs =\n        pageWidth > 768\n          ? \"width: 448px; height: 72vh; max-height: 720px\"\n          : \"width: 100%; height: 100%; max-height: 100%; min-height: 100%; left: 0px; right: 0px; bottom: 0px; top: 0px;\",\n      bbp =\n        config.bubblePosition && \"right\" === config.bubblePosition\n          ? \"right: 16px; left: unset; transform-origin: right bottom;\"\n          : \"left: 16px; right: unset; transform-origin: left bottom;\";\n    frameContainer.style.cssText =\n      \"position: fixed !important; box-shadow: rgba(150, 150, 150, 0.2) 0px 10px 30px 0px, rgba(150, 150, 150, 0.2) 0px 0px 0px 1px; overflow: hidden !important; opacity: 0 !important; border: none !important; display: none !important; z-index: 2147483645 !important; border-radius: 0.75rem; bottom: 96px; transition: scale 200ms ease-out 0ms, opacity 200ms ease-out 0ms; transform: scale(0) !important;\" +\n      bbp +\n      fcs;\n\n    // create the iframe\n    var iframe = document.createElement(\"iframe\");\n    iframe.setAttribute(\"id\", \"zyg-iframe\"),\n      iframe.setAttribute(\"title\", \"Zyg Widget\"),\n      iframe.setAttribute(\"src\", baseUrl),\n      iframe.setAttribute(\"frameborder\", \"0\"),\n      iframe.setAttribute(\"scrolling\", \"no\"),\n      iframe.setAttribute(\n        \"style\",\n        \"border: 0px !important; width: 100% !important; height: 100% !important; display: block !important; opacity: 1 !important;\"\n      ),\n      frameContainer.appendChild(iframe), // append the Iframe to the parent div container.\n      document.body.appendChild(frameContainer);\n\n    iframe.addEventListener(\"load\", function () {\n      logger(\"iframe on load...\");\n      var popButton = document.createElement(\"div\");\n      popButton.setAttribute(\"id\", \"zyg-button\");\n\n      // add styling to the button\n      var pbs = \"background-color:\" + config.headerColor + \";\";\n      (pbs += \"position: fixed; bottom: 1rem;\"),\n        (pbs +=\n          config.bubblePosition && \"right\" === config.bubblePosition\n            ? \"right: 16px; left: unset;\"\n            : \"left: 16px; right: unset;\"),\n        (pbs +=\n          \"width: 50px; height: 50px; border-radius: 25px; 0px 4px 8px 0px; cursor: pointer; z-index: 2147483645;\"),\n        (pbs +=\n          \"transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out; transform: scale(0); opacity: 0;\"),\n        (popButton.style.cssText = pbs);\n\n      var buttonInnerSt =\n        '<div style=\"display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; z-index: 2147483646;\">';\n      config.profilePicture\n        ? (buttonInnerSt +=\n            '<img src=\"' +\n            config.profilePicture +\n            '\" style=\"width: 100%; height: 100%; border-radius: 100px;\" />')\n        : (buttonInnerSt += `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"${config.iconColor}\" style=\"width: 60%; height: 60%;\"><path fill-rule=\"evenodd\" d=\"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z\" clip-rule=\"evenodd\" /></svg>`),\n        (buttonInnerSt += \"</div>\"),\n        (popButton.innerHTML = buttonInnerSt),\n        document.body.appendChild(popButton);\n\n      setTimeout(function () {\n        (popButton.style.opacity = \"1\"),\n          (popButton.style.transform = \"scale(1)\"),\n          (frameContainer.style.display = \"block\");\n      }, 1e3),\n        popButton.addEventListener(\"click\", function () {\n          isHidden ? showZW() : hideZW();\n        });\n    });\n  }\n\n  const bootZyg = function (): ZygSDKFunction {\n    const instance: ZygSDKFunction = function (...args: any[]) {\n      instance.push(...args);\n    };\n\n    instance.booted = false;\n    instance.widgetId = null;\n\n    instance.customerExternalId = null;\n    instance.customerEmail = null;\n    instance.customerPhone = null;\n    instance.customerHash = null;\n\n    instance._eventTarget = new EventTarget();\n    instance._triggerEvent = function (eventName, data) {\n      const event = new CustomEvent(eventName, { detail: data });\n      this._eventTarget.dispatchEvent(event);\n    };\n\n    instance.onMessageHandler = function (evt: MessageEvent) {\n      logger(\"evt origin:\", evt.origin);\n      logger(\"evt source\", evt.source);\n      logger(\"evt data\", evt.data);\n      if (evt.origin !== baseUrl) return;\n      if (evt.data === \"close\") {\n        hideZW();\n      }\n      if (evt.data === \"ifc:error\") {\n        logger(\"iframe error!\");\n      }\n      if (evt.data === \"ifc:ready\") {\n        handleIfcReady(instance.widgetId);\n      }\n      if (evt.data === \"ifc:ack\") {\n        handleIfcAck(instance.widgetId);\n      }\n    };\n\n    // Initialize the queue\n    instance.q = [];\n\n    // Function to process the queue\n    instance.processQueue = function () {\n      while (instance.q.length > 0) {\n        const args = instance.q.shift();\n        if (args) {\n          instance.executeCommand.apply(instance, args);\n        }\n      }\n    };\n\n    // Function to execute commands\n    instance.executeCommand = function (...args: any[]) {\n      const command = args[0];\n      const commandArgs = args.slice(1);\n\n      // Implement your SDK functionality here\n      switch (command) {\n        case \"init\":\n          logger(\"init invoked with args:\", commandArgs);\n          instance.init(commandArgs[0]);\n          break;\n        // Add more commands as needed\n        default:\n          throw new Error(`Unknown command: ${command}`);\n      }\n    };\n\n    // Function to handle new commands\n    instance.push = function (...args: any[]) {\n      if (typeof args[0] === \"function\") {\n        args[0]();\n      } else {\n        instance.q.push(args);\n        instance.processQueue();\n      }\n    };\n\n    instance.on = function (\n      eventName: string,\n      callback: EventListenerOrEventListenerObject\n    ) {\n      instance._eventTarget.addEventListener(eventName, callback);\n    };\n\n    instance.off = function (\n      eventName: string,\n      callback: EventListenerOrEventListenerObject\n    ) {\n      instance._eventTarget.removeEventListener(eventName, callback);\n    };\n\n    // Process any queued commands\n    instance.processQueue();\n\n    // Function to handle init\n    instance.init = function (initConfig: InitConfig) {\n      if (typeof initConfig !== \"object\" || !initConfig.widgetId) {\n        throw new Error(\"Invalid configuration. widgetId is required.\");\n      }\n\n      this.widgetId = initConfig.widgetId;\n\n      this.customerExternalId = initConfig.customerExternalId || null;\n      this.customerEmail = initConfig.customerEmail || null;\n      this.customerPhone = initConfig.customerPhone || null;\n\n      this.customerHash = initConfig.customerHash || null;\n\n      this.traits = initConfig.traits || null;\n\n      const hasCustomerIdentifier =\n        !!this.customerExternalId ||\n        !!this.customerEmail ||\n        !!this.customerPhone;\n\n      if (hasCustomerIdentifier && !this.customerHash) {\n        throw new Error(\n          \"Invalid configuration. customerHash is required when customerExternalId, customerEmail, customerPhone are provided.\"\n        );\n      } else if (!hasCustomerIdentifier && this.customerHash) {\n        throw new Error(\n          \"Invalid configuration. customerHash is required when customerExternalId, customerEmail, customerPhone are not provided.\"\n        );\n      }\n\n      fetchWidgetConfig(this.widgetId)\n        .then((c) => {\n          logger(\"fetched widget config\", c);\n          config = c;\n        })\n        .then(() => {\n          logger(\"configure widget store...\");\n          const storage: ZygSDKStorage = {\n            widgetId: this.widgetId as string,\n          };\n\n          // order matters.\n          // if customerExternalId is set, it takes precedence over customerEmail and customerPhone.\n          if (this.customerExternalId) {\n            storage.customerExternalId = this.customerExternalId;\n          } else if (this.customerEmail) {\n            storage.customerEmail = this.customerEmail;\n          } else if (this.customerPhone) {\n            storage.customerPhone = this.customerPhone;\n          }\n\n          if (this.customerHash) {\n            storage.customerHash = this.customerHash;\n          } else {\n            // customer is anonymous\n            // use anonId to track anonymous sessions\n            const oldStorage = getLocalStorage(this.widgetId as string);\n            if (oldStorage) {\n              try {\n                const parsed = JSON.parse(oldStorage);\n                if (parsed.anonId) {\n                  storage.anonId = parsed.anonId;\n                }\n              } catch (e) {\n                console.error(\"Error parsing existing storage\", e);\n                storage.anonId = generateUUID();\n              }\n            } else {\n              storage.anonId = generateUUID();\n            }\n          }\n\n          if (this.traits) {\n            storage.traits = this.traits;\n          }\n\n          const isStored = setLocalStorage(\n            this.widgetId as string,\n            JSON.stringify(storage)\n          );\n\n          if (!isStored) {\n            throw new Error(\"Error storing widget store in localStorage.\");\n          }\n        })\n        .then(() => {\n          logger(\"create iframe widget...\");\n          createZygWidget(config),\n            window.addEventListener(\"message\", this.onMessageHandler),\n            window.addEventListener(\"resize\", handlePageWidthChange);\n        })\n        .catch((err) => {\n          console.error(\"Error fetching widget config\", err);\n        });\n\n      // Simulating asynchronous initialization\n      setTimeout(() => {\n        this._triggerEvent(\"ready\");\n        this.booted = true;\n        // Simulate authentication after a delay\n        setTimeout(() => {\n          this._triggerEvent(\"authenticated\");\n        }, 500);\n      }, 1000);\n    };\n\n    return instance;\n  };\n  const sdk = bootZyg();\n\n  // Process any queued events\n  if (window.ZygSDK.q) {\n    for (let i = 0; i < window.ZygSDK.q.length; i++) {\n      sdk.push.apply(sdk, window.ZygSDK.q[i]);\n    }\n  }\n  window.ZygSDK = sdk;\n  window.dispatchEvent(new Event(\"zygsdk:loaded\"));\n})();\n"],
  "mappings": "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",
  "names": ["ENV", "logger", "setLocalStorage", "key", "value", "error", "getLocalStorage", "generateUUID", "c", "r", "config", "isHidden", "pageWidth", "baseUrl", "fetchWidgetConfig", "widgetId", "response", "hideZW", "showZW", "handleIfcReady", "data", "iframe", "message", "handleIfcAck", "handlePageWidthChange", "i", "o", "createZygWidget", "domains", "d", "frameContainer", "fcs", "bbp", "popButton", "pbs", "buttonInnerSt", "sdk", "instance", "args", "eventName", "event", "evt", "command", "commandArgs", "callback", "initConfig", "hasCustomerIdentifier", "storage", "oldStorage", "parsed", "e", "err"]
}
